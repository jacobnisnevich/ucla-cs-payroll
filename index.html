<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>UCLA CS Payroll</title>
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script src="professors_data.json"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/css/materialize.min.css">
</head>
<script>
$(document).ready(function() {
	// $.ajax({
	// 	"async": false,
	// 	"global": false,
	// 	"url": "professors_data.json",
	// 	"dataType": "json",
	// 	"success": function (data) {
	// 		data.forEach(function(professor) {
	// 			$("#professor-salaries tbody").append("<tr><td>" + professor.name + 
	// 				"</td><td>" + professor.title +
	// 				"</td><td>" + professor.regular_pay +
	// 				"</td><td>" + professor.overtime_pay +
	// 				"</td><td>" + professor.other_pay +
	// 				"</td><td>" + professor.gross_pay +"</td></tr>")
	// 		});
	// 	}
	// });

	data.forEach(function(professor) {
		$("#professor-salaries tbody").append("<tr><td>" + professor.name + 
			"</td><td>" + professor.title +
			"</td><td data-value='" + professor.regular_pay + "'>" + formatNumber(professor.regular_pay) +
			"</td><td data-value='" + professor.overtime_pay + "'>" + formatNumber(professor.overtime_pay) +
			"</td><td data-value='" + professor.other_pay + "'>" + formatNumber(professor.other_pay) +
			"</td><td data-value='" + professor.gross_pay + "'><b>" + formatNumber(professor.gross_pay) +"</b></td></tr>");
	});
});

function formatNumber(inputNumber) {
	if (inputNumber != "-") {
		return "$" + Number(inputNumber).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, '$1,');
	} else {
		return inputNumber
	}
}

</script>
<style type="text/css">
#professor-salaries {
	width: 70%;
	margin: 50px auto;
	border: 1px solid #CCC;
}

#professor-salaries td:nth-child(n + 3) {
	text-align: right;
}
</style>
<body>
<table id="professor-salaries" class="striped responsive">
	<thead>
		<tr>
			<th data-field="name">Name</th>
			<th data-field="title">Title</th>
			<th data-field="regular_pay">Regular Pay</th>
			<th data-field="overtime_pay">Overtime Pay</th>
			<th data-field="other_pay">Other Pay</th>
			<th data-field="gross_pay">Gross Pay</th>
		</tr>
	</thead>
	<tbody>
	</tbody>
</table>
</body>
</html>